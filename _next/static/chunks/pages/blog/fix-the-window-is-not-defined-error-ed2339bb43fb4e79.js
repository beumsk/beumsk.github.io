(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7],{9016:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/fix-the-window-is-not-defined-error",function(){return i(125)}])},125:function(e,n,i){"use strict";i.r(n);var s=i(5893),t=i(1151),r=i(4911),o=i(9786),c=function(e){var n=e.children;return(0,s.jsx)(r.Z,{children:n})};function d(e){var n=Object.assign({p:"p",code:"code",h2:"h2",pre:"pre"},(0,t.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Next.js is very useful in many aspects, but nothing is perfect. One difficult point is the use of the ",(0,s.jsx)(n.code,{children:"window"})," object. It is used in many libraries and tools such as analytics and, because Next.js uses pre-rendering, the window may be undefined and may therefore break our site."]}),"\n",(0,s.jsx)(n.h2,{children:"Wait for window to be ready"}),"\n",(0,s.jsx)(n.p,{children:"This is the usual fix we find for this issue. Somehow it was never the fitting solution in my projects, but I still try it every time."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"if (typeof window !== 'undefined') {\n  // Client-side-only code\n}\n"})}),"\n",(0,s.jsx)(n.h2,{children:"With useEffect"}),"\n",(0,s.jsxs)(n.p,{children:["The other solution requires a better knowledge of React, using the ",(0,s.jsx)(n.code,{children:"useEffect"})," hook. It is working because this hook will wait for the mounting of the page. Pay attention to the empty array, which is needed to work."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"useEffect(() => {\n  // Client-side-only code\n}, []);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For a working example, check ",(0,s.jsx)(o.Z,{href:"/blog/nextjs-dark-mode",children:"this article on dark mode"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Enjoy coding with Next.js!"})]})}n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.jsx)(c,Object.assign({},e,{children:(0,s.jsx)(d,e)}))}}},function(e){e.O(0,[838,151,365,594,805,136,911,774,888,179],(function(){return n=9016,e(e.s=n);var n}));var n=e.O();_N_E=n}]);