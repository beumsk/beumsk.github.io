(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7],{3622:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/fix-the-window-is-not-defined-error",function(){return t(125)}])},3753:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var i=t(5893),s=t(7294),r=t(1163),a=t(1664),c=t(5697),o=t.n(c),l=t(4725),d=t.n(l),h=(t(9578),t(2427),t(8193)),u=t(3422),f=t(9095),x=t(4285);function m(e){var n=e.children,t=(0,r.useRouter)();(0,s.useEffect)((function(){d().highlightAll()}),[t]);var c=u.x.filter((function(e){return e.slug===t.asPath.replace("/blog/","")}))[0],o=c.title,l=c.intro,m=c.img,j=c.date,p=c.categories,g=c.url,w=""===j?"No date":"".concat(new Date(j).getDate(),".").concat(new Date(j).getMonth()+1,".").concat(new Date(j).getFullYear()),b=null===p||void 0===p?void 0:p.split(", ").filter((function(e){return e})),v=u.x[u.x.findIndex((function(e){return e.title===o}))+1]||u.x[0],y=[u.x[u.x.findIndex((function(e){return e.title===o}))-1]||u.x[u.x.length-1],v];return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(f.Z,{title:"".concat(o," | Blog | R\xe9my Beumier"),description:l,img:m,url:g,itemtype:"Article",children:(0,i.jsx)("div",{className:"container narrow posts-shape",children:(0,i.jsx)("div",{"data-aos":"fade-left",children:(0,i.jsxs)("article",{children:[(0,i.jsx)("h1",{itemProp:"headline name",children:o}),(0,i.jsx)("img",{src:m,alt:o,width:"300",height:"150",className:"post__img mb-5",itemProp:"image"}),(0,i.jsxs)("div",{className:"space-between-x mb-10",children:[(0,i.jsx)("div",{className:"post__categories",children:null===b||void 0===b?void 0:b.map((function(e){return(0,i.jsx)(a.default,{href:"/blog?".concat(e),children:(0,i.jsx)("a",{children:(0,i.jsx)("span",{itemProp:"articleSection",children:e.charAt(0).toUpperCase()+e.slice(1)})})},e)}))}),(0,i.jsx)("time",{className:"post__date",itemProp:"datePublished",content:w,dateTime:w,children:w})]}),(0,i.jsx)("div",{className:"post__content mb-10",itemProp:"articleBody",children:n}),(0,i.jsx)("div",{className:"mb-15",children:(0,i.jsx)(a.default,{href:"/blog",children:(0,i.jsxs)("a",{className:"btn",children:[(0,i.jsx)(h.FtK,{className:"mr-1"}),"Back to blog listing"]})})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"related-title mb-5",children:"Suggested articles"}),(0,i.jsx)(x.Z,{data:y,className:"mb-20"})]})]})})})})})}m.propTypes={meta:o().object,children:o().node,posts:o().array}},125:function(e,n,t){"use strict";t.r(n);var i=t(5893),s=t(1151),r=t(3753),a=function(e){var n=e.children;return(0,i.jsx)(r.Z,{children:n})};function c(e){var n=Object.assign({p:"p",code:"code",h2:"h2",pre:"pre",a:"a"},(0,s.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Next.js is very useful in many aspects, but nothing is perfect. One difficult point is the use of the ",(0,i.jsx)(n.code,{children:"window"})," object. It is used in many libraries and tools such as analytics and, because Next.js uses pre-rendering, the window may be undefined and may therefore break our site."]}),"\n",(0,i.jsx)(n.h2,{children:"Wait for window to be ready"}),"\n",(0,i.jsx)(n.p,{children:"This is the usual fix we find for this issue. Somehow it was never the fitting solution in my projects, but I still try it every time."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"if (typeof window !== 'undefined') {\r\n  // Client-side-only code\r\n}\n"})}),"\n",(0,i.jsx)(n.h2,{children:"With useEffect"}),"\n",(0,i.jsxs)(n.p,{children:["The other solution requires a better knowledge of React, using the ",(0,i.jsx)(n.code,{children:"useEffect"})," hook. It is working because this hook will wait for the mounting of the page. Pay attention to the empty array, which is needed to work."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"useEffect(() => {\r\n  // Client-side-only code\r\n}, []);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For a working example, check ",(0,i.jsx)(n.a,{href:"/blog/nextjs-dark-mode",children:"this article on dark mode"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Enjoy coding with Next.js!"})]})}n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.jsx)(a,Object.assign({},e,{children:(0,i.jsx)(c,e)}))}}},function(e){e.O(0,[228,415,445,617,417,434,127,774,888,179],(function(){return n=3622,e(e.s=n);var n}));var n=e.O();_N_E=n}]);